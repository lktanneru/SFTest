<template>
    <div class="container">
        <template if:true={isEditing}>
            <div class="edit-mode">
                <!-- Modal markup -->
                <div class="slds-modal slds-fade-in-open">
                    <div class="slds-modal__container custom-modal-container">
                        <div class="slds-modal__header">
                            <template if:true={isDisabled}> 
                                <h2 class="slds-text-heading_medium">View Comments/Updates</h2>
                            </template>
                            <template if:false={isDisabled}>
                                <h2 class="slds-text-heading_medium">Edit Comments/Updates</h2>
                            </template>
                        </div>
                        <div class="slds-modal__content slds-p-around_medium custom-modal-content">
                            <textarea class="input fullwidth" data-id="myTextarea" rows="8" disabled={isDisabled} oninput={handleInputChange}>{value}</textarea>
                        </div>
                        <div class="slds-modal__footer">
                            <template if:true={isDisabled}> 
                                <button class="slds-button slds-button_neutral" onclick={handleNewComment}>New Comment</button>
                            </template>
                            <template if:false={isDisabled}>
                                <lightning-button class="slds-p-around_small" label="Done" title="Click on save after clicking on done." variant="brand" onclick={handleSaveClick}>
                                </lightning-button>
                            </template>
                            <button class="slds-button slds-button_outline-brand" onclick={handleCancelClick}>Cancel</button>
                        </div>
                    </div>
                </div>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </div>
        </template>
        <template if:false={isEditing}>
            <div class="read-mode">
                <span class="slds-grid slds-grid_align-spread slds-cell-edit">
                    <span class="slds-truncate" title={value}>{value}</span>
                    <button data-id={context} class="slds-button slds-button_icon slds-cell-edit__button slds-m-left_x-small" tabindex="-1" title="Preview" name="tes"
                        onclick={handleEditClick} data-name="myButtonName">
                        <svg class="slds-button__icon slds-button__icon_hint slds-button__icon_lock slds-button__icon_small slds-button__icon_edit slds-icon slds-icon-text-default slds-icon_xx-small"
                            aria-hidden="true">
                            <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg?cache=9.37.1#preview"></use>
                        </svg>
                        <span class="slds-assistive-text">Preview</span>
                    </button>
                </span>
            </div>
        </template>
    </div>
</template>